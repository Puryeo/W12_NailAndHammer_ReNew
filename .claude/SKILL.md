---
name: unity-cs-helper
description: 유니티6 기반 게임 개발을 위한 체계적인 코드 작성 및 리팩토링 워크플로우. 기능 동일성 보장과 범위 제한을 핵심으로 하며, 실무 중심의 최적화된 코드를 제공합니다.
---

# Unity Development Workflow

유니티6 기반 게임 개발 시 체계적인 워크플로우를 통해 고품질 코드를 작성하도록 돕습니다. 구조 설계 검증부터 구현, 리뷰, 리팩토링까지 단계별 프로세스를 제공하며, 기능 동일성 보장과 범위 제한 엄수를 핵심 원칙으로 합니다.

## 기본 원칙

### 스크립트 작성
- 유니티6 기반으로 작성
- 작성 전 어떤 스크립트를 작성할지 사용자에게 먼저 확인
- Inspector 창에서 수치 조정이 가능하도록 구성
- 사용자가 주석 처리한 코드는 무시하고 수정
- 구버전 메서드 `FindObjectOfType` 대신 `FindFirstObjectByType` 사용

### 명명 규칙
- 유니티 공식 가이드라인 준수
- 클래스 멤버변수: `_` 접두사 사용
- 메서드 내 지역변수: `_` 없이 사용
- 약어 사용 금지: 변수명을 명확하게 작성

### 코드 구조
- SOLID 원칙 준수
- Class와 Method를 작은 규모로 읽기 쉽게 구성
- 전공자가 아닌 사람도 이해하기 쉽게 작성
- 각 메서드마다 역할 설명 주석 추가
- 복잡한 로직에는 수도코드 주석 추가
- 주석은 한국어로 작성, 이모지나 특수 아이콘 사용 금지

### 실무 고려사항
- 실무 구현 방식 추천 제공
- 최적화 및 성능 고려한 권장사항 제시
- DontDestroy 싱글톤 패턴 자제 (게임 매니저 제외)

## 핵심 지침 (절대 준수)

### 기능 동일성 보장
코드 수정 시 기능의 구현방식은 변경되어도 해당 기능은 똑같이 유지되어야 함. 기존 기능에 변경이나 누락이 있으면 안 됨.

### 범위 제한 엄수
- 사용자가 요청한 기능만 구현
- 추가 기능이나 메서드를 임의로 추가 금지
- 명시적으로 요청하지 않은 확장 기능 구현 금지

### 문서화 규칙
- md 파일 생성 절대 금지 (사용자가 명시적으로 요청할 때만 생성)
- 코드나 시스템에 대한 md 파일을 임의로 만들지 말 것
- 간략한 설명은 답변에 직접 포함
- 파일 시스템 관련 작업 금지

### 코드 정리
- 기즈모 관련 코드 삭제
- 불필요한 디버그 코드 제거
- 사용자가 요청하지 않은 추가 구현 메서드 제거
- 주석 처리된 레거시 코드 제거

## 코드 제공 규칙

코드 제공 후 반드시 다음 내용을 답변에 간략하게 포함:

### 1. 수정된 클래스 목록
어떤 클래스를 수정했는지 명시

### 2. 클래스 역할 설명
- OOP 원칙을 따르는 클래스의 기능
- 클래스의 책임(Responsibility)

### 3. 메서드 목록 및 역할
- 주요 메서드들과 각각의 역할
- 카테고리별로 그룹화 (초기화, 상태 관리, 이벤트 처리 등)

### 4. Public 메서드 상세 설명
- 어떤 매개변수를 받는지
- 내부적으로 어떻게 처리하는지
- 어떤 값을 반환하거나 어떤 상태를 변경하는지

### 5. 유니티 사용 방법 (새로운 스크립트인 경우)
- 어느 게임오브젝트에 붙여야 하는지
- 게임오브젝트 계층 구조 표기 (게임오브젝트 부모자식 관계는 들여쓰기로 설명) : Parent - Child(컴포넌트: NewScript, Rigidbody) - ChildChild
- 괄호 안에 필요한 컴포넌트 나열

### 6. 클래스 상호작용 흐름 (새로운 스크립트인 경우)
해당 클래스가 다른 클래스들과 어떻게 상호작용하는지 텍스트로 설명:
- 초기화 단계: 어떤 순서로 어떤 메서드가 호출되는지
- 실행 단계: 런타임 중 주요 메서드 호출 흐름
- 이벤트 처리: 어떤 이벤트를 받고 어떤 메서드를 통해 처리하는지
- 다른 클래스 호출: 어떤 클래스의 어떤 메서드를 호출하는지
## 특수 작업 지침

### 코드 리뷰
- 클래스 역할 및 책임 분석
- 주요 메서드와 Public API 사용법 설명
- 복잡한 상호작용은 Mermaid 시퀀스 다이어그램으로 시각화
- SOLID 원칙 준수, 메서드 크기, 변수명 명확성 체크

### 리팩토링
- Awake 초기화 로직을 메서드로 분리하여 재사용 가능하게 구성
- 리스폰 시 원본 상태로 복구하는 초기화 메서드 제공
- 기능 동일성 보장, Public API 시그니처 변경 금지
- 리팩토링 중 새 기능 추가 금지

## 예외 처리

다음 상황에서는 임의로 판단하지 말고 반드시 사용자에게 확인:
- 요청된 기능 구현 시 기존 기능에 영향을 줄 수 있는 경우
- 구조 변경이 필요한 경우
- 최적화를 위해 명시하지 않은 변경이 필요한 경우
- 요청 사항이 모호하거나 해석이 여러 가지인 경우
## Workflow 
### 1단계: 구조 설계 검증 
- 사용자가 제안한 구조에 대해 장단점 분석 
- 여러 구조 옵션이 있다면 비교 분석 제공 
- 예외상황 및 엣지 케이스 처리 가능 여부 확인 
- 구현 전 반드시 사용자에게 방향성 확인 
### 2단계: 기능 범위 명확화 
- 사용자가 요청한 기능의 정확한 범위 파악 
- 이 기능만 구현 확인 및 범위 밖 기능 추가 금지 재확인 
- 구현 방식 제안 후 사용자 승인 대기 
- 의문사항이 있으면 구현 전 질문하여 명확히 할 것 
### 3단계: 구현 및 검증 
- 승인받은 범위 내에서만 코드 작성 
- 기존 기능 동일성 유지 확인 
- 세부 구현 사항에 대한 사용자 질문에 응답 
- 필요시 단계별로 구현 진행 상황 공유 
- 코드 제공 후 반드시 간략한 설명 포함 
### 4단계: 정리 및 문서화 
- 불필요한 코드(기즈모, 미사용 디버그 등) 제거 
- 각 메서드에 역할 설명 주석 추가 
- 복잡한 로직에 수도코드 주석 추가 
- 수정된 클래스 목록 명시 
- 최종 확인 후 제공

